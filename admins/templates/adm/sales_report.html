{% extends 'adm/base.html'%}


{% load mathfilters %}
{% block content %}
{% load static %}


<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">




        <!-- Sidebar Start -->
        <div class="sidebar pe-4 pb-3">
            <nav class="navbar bg-light navbar-light">
                <a href="adminhome" class="navbar-brand mx-4 mb-3">
                    <h3 class="text-primary">Admin</h3>
                </a>
                <div class="d-flex align-items-center ms-4 mb-4">
                    <div class="position-relative">
                        <img class="rounded-circle" src="{% static 'adm/img/user.jpg' %}" alt="" style="width: 40px; height: 40px;">
                        <div class="bg-success rounded-circle border border-2 border-white position-absolute end-0 bottom-0 p-1"></div>
                    </div>
                    <div class="ms-3">
                        <h6 class="mb-0">{{user.username}}</h6>
                        <span>Admin</span>
                    </div>
                </div>
                <div class="navbar-nav w-100">
                  <a href="{% url 'admin_home' %}" class="nav-item nav-link active"><i class="fa fa-tachometer-alt me-2"></i>Dashboard</a>
                  <div class="nav-item dropdown">
                      <a href="user_details" class="nav-link " ><i class="fa fa-laptop me-2"></i>User Management</a>
                     
                  </div>                    
                  <a href="{% url 'main_cat' %}" class="nav-item nav-link"><i class="fa fa-table me-2"></i>Main Category</a>

                  <a href="{% url 'category' %}" class="nav-item nav-link"><i class="fa fa-table me-2"></i>Categories</a>

                  <a href="{% url 'product_view' %}" class="nav-item nav-link"><i class="far fa-file-alt me-2"></i>Products</a>
                  <a href="{% url 'order_list' %}" class="nav-item nav-link"><i class="fa fa-keyboard me-2"></i>Orders</a>
                  <a href="{% url 'sales_report' %}" class="nav-item nav-link "><i class="fa fa-keyboard me-2"></i>Sales Report</a>

                 
                  <div class="nav-item dropdown">
                      <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown"><i class="far fa-file-alt "></i>Offer management</a>
                      <div class="dropdown-menu  bg-transparent border-0">
                          <a href="{% url 'product_offer' %}" class="dropdown-item">Product Offer</a>
                          <a href="{% url 'cat_offer' %}" class="dropdown-item">Category Offer</a>
                          <a href="{% url 'coupon_list' %}" class="dropdown-item">Coupon Management</a>

                          
                      </div>
                  </div>
              </div>
            </nav>
        </div>
        <!-- Sidebar End -->


        <!-- Content Start -->
        <div class="content">
            <!-- Navbar Start -->
            <nav class="navbar navbar-expand bg-light navbar-light sticky-top px-4 py-0">
                <a href="adminhome" class="navbar-brand d-flex d-lg-none me-4">
                    <h2 class="text-primary mb-0"><i class="fa fa-hashtag"></i></h2>
                </a>
                <a href="#" class="sidebar-toggler flex-shrink-0">
                    <i class="fa fa-bars"></i>
                </a>
                <form class="d-none d-md-flex ms-4">
                    <input class="form-control border-0" type="search" placeholder="Search">
                </form>
                <div class="navbar-nav align-items-center ms-auto">
                
                    
                    <div class="nav-item dropdown">
                        <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">
                            <img class="rounded-circle me-lg-2" src="{% static 'adm/img/user.jpg' %}" alt="" style="width: 40px; height: 40px;">
                            <span class="d-none d-lg-inline-flex">{{user.username}}</span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-end bg-light border-0 rounded-0 rounded-bottom m-0">
                            <a href="#" class="dropdown-item">My Profile</a>
                            <a href="#" class="dropdown-item">Settings</a>
                            <a href="out" class="dropdown-item">Log Out</a>
                        </div>
                    </div>
                </div>
            </nav>





 <!-- Recent Sales Start -->
 <div class="container-fluid pt-4 px-4">
    <div class="bg-light text-center rounded p-4">
        <div class="d-flex align-items-center justify-content-between mb-4">
        
            <a href="" class="mb-0 btn btn-outline-primary disabled"> Full Sales  Report</a>

            <!----------------SEARCH SALES REPORT-------------------------------------->
                <div>
                  <form method="POST" action = "{% url 'show_result'  %}">
                    {% csrf_token %}
                  From :&nbsp<input type='date' class="form-control-sm" name="fromdate"/>&nbsp &nbsp &nbsp
                  To :&nbsp<input type='date' class="form-control-sm" name="todate"/>
                  <input type="submit" class="btn btn-outline-info btn-sm" value="Search"/>
                </div>

           <!----------------SEARCH SALES REPORT-END------------------------------------->

            
            <div class="d-flex align-items-center justify-content-between ">
              
              
                    <!-----------------REPORT DROP DOWN-------------------------------->
                    <div class="dropdown mx-3">
                        <a class="btn btn-primary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">
                          Monthly report
                        </a>
                      
                        <ul class="dropdown-menu select" aria-labelledby="dropdownMenuLink" style="">

                          <a class="dropdown-item" href="{% url 'monthly_report' 1 %}">January</a>
                          <a class="dropdown-item" href="{% url 'monthly_report' 2 %}">February</a>
                          <a class="dropdown-item" href="{% url 'monthly_report' 3 %}">March</a>
                          <a class="dropdown-item" href="{% url 'monthly_report'  4  %}">April</a>
                          <a class="dropdown-item" href="{% url 'monthly_report' 5%}">May</a>
                          <a class="dropdown-item" href="{% url 'monthly_report' 6 %}">June</a>
                          <a class="dropdown-item" href="{% url 'monthly_report' 7 %}">July</a>
                          <a class="dropdown-item" href="{% url 'monthly_report' 8 %}">August</a>
                          <a class="dropdown-item" href="{% url 'monthly_report' 9 %}">September</a>
                          <a class="dropdown-item" href="{% url 'monthly_report' 10 %}">October</a>
                          <a class="dropdown-item" href="{% url 'monthly_report' 11 %}">November</a>
                          <a class="dropdown-item" href="{% url 'monthly_report' 12 %}">December</a>
                        </ul>
                      </div>
                    <div class="dropdown mx-3">
                        <a class="btn btn-danger dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">
                          Yearly report
                        </a>
                      
                        <ul class="dropdown-menu select" aria-labelledby="dropdownMenuLink" style="">
                            <a class="dropdown-item" href="{% url 'year_report' 2022 %}">2022</a>
                            <a class="dropdown-item" href="{% url 'year_report' 2021 %}">2021</a>
                            <a class="dropdown-item" href="{% url 'year_report' 2020 %}">2020</a>
                            <a class="dropdown-item" href="{% url 'year_report' 2019 %}">2019</a>
                            <a class="dropdown-item" href="{% url 'year_report' 2018 %}">2018</a>
                            <a class="dropdown-item" href="{% url 'year_report' 2018 %}">2017</a>
                            <a class="dropdown-item" href="{% url 'year_report' 2018 %}">2016</a>
                            <a class="dropdown-item" href="{% url 'year_report' 2018 %}">2015</a>
                            <a class="dropdown-item" href="{% url 'year_report' 2018 %}">2014</a>
                            <a class="dropdown-item" href="{% url 'year_report' 2018 %}">2013</a>
                            <a class="dropdown-item" href="{% url 'year_report' 2018 %}">2012</a>
                            <a class="dropdown-item" href="{% url 'year_report' 2018 %}">2011</a>
                            <a class="dropdown-item" href="{% url 'year_report' 2018 %}">2010</a>
                            <a class="dropdown-item" href="{% url 'year_report' 2018 %}">2009</a>
                            <a class="dropdown-item" href="{% url 'year_report' 2018 %}">2008</a>
                            <a class="dropdown-item" href="{% url 'year_report' 2018 %}">2007</a>
                            <a class="dropdown-item" href="{% url 'year_report' 2018 %}">2006</a>
                            <a class="dropdown-item" href="{% url 'year_report' 2018 %}">2005</a>
                            <a class="dropdown-item" href="{% url 'year_report' 2018 %}">2004</a>
                            <a class="dropdown-item" href="{% url 'year_report' 2018 %}">2003</a>
                            <a class="dropdown-item" href="{% url 'year_report' 2018 %}">2002</a>
                            <a class="dropdown-item" href="{% url 'year_report' 2018 %}">2001</a>
                            <a class="dropdown-item" href="{% url 'year_report' 2018 %}">2000</a>
                            <a class="dropdown-item" href="{% url 'year_report' 2018 %}">1999</a>
                            <a class="dropdown-item" href="{% url 'year_report' 2018 %}">1998</a>
                            <a class="dropdown-item" href="{% url 'year_report' 2018 %}">1997</a>
                            <a class="dropdown-item" href="{% url 'year_report' 2018 %}">1996</a>
                            <a class="dropdown-item" href="{% url 'year_report' 2018 %}">1995</a>
                            <a class="dropdown-item" href="{% url 'year_report' 2018 %}">1994</a>
                            <a class="dropdown-item" href="{% url 'year_report' 2018 %}">1993</a>
                            <a class="dropdown-item" href="{% url 'year_report' 2018 %}">1992</a>
                            <a class="dropdown-item" href="{% url 'year_report' 2018 %}">1991</a>
                            <a class="dropdown-item" href="{% url 'year_report' 2018 %}">1990</a>

                        </ul>
                      </div>
                      <style>
                        .select
                        {
                          max-height: 150px;
                           overflow: auto;
                        }
                        .dropdown-menu{
                          min-width: 100%;
                        }
                      </style>
                    <!-- <div class="dropdown">
                        <a class="btn btn-warning dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">
                          daily report
                        </a>
                      
                        <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink" style="">
                            <a class="dropdown-item" href="#">week 1</a>
                            <a class="dropdown-item" href="#">week 2</a>
                            <a class="dropdown-item" href="#">week 3</a>
                            <a class="dropdown-item" href="#">week 4</a>

                        </ul>
                      </div> -->


            
                      
          <!-----------------REPORT DROP DOWN ENDS-------------------------------->
            </div>
            
 
  </div>
  
          <!-- <a href="" class="btn btn-warning">Weekly Report</a>
          <a href="" class="btn btn-success">Yearly Report</a> -->
        </div>


        </div>

        {% if items.has_other_pages %}
        <nav aria-label="Page navigation example"></nav>
        <ul class="pagination">
          {% if items.has_previous %}
            <li class="page-item" ><a class="page-link" href="?page={{ items.previous_page_number }}">&laquo;</a></li>
          {% else %}
            <li class="page-link disabled"> <span aria-hidden="true">&laquo;</span></li>
          {% endif %}
          {% for i in items.paginator.page_range %}
            {% if items.number == i %}
              <li class=" page-item active"><span> {{ i }}</span> <span class=" page-linksr-only"></span></li>
            {% else %}
              <li class="page-item" ><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
            {% endif %}
          {% endfor %}
          {% if items.has_next %}
            <li><a href="?page={{ items.next_page_number }}">&raquo;</a></li>
          {% else %}
            <li class="disabled"><span>&raquo;</span></li>
          {% endif %}
        </ul>
      </nav>

        {% endif %}
      



     
        <table class="table table-bordered mt-3 "  style="border: red;background-color: rgb(181, 238, 228) ;" >
            <tr>
                <th scope="col">Total </th>
                <th scope="col">₹ &nbsp {{RoundTotal}}</th
            </tr>
        </table>


        
        <div class="table-responsive"  >
            <table class="table text-start align-middle table-bordered table-hover mb-0">
                <thead>
                    <tr class="text-dark">
                        <!-- <th scope="col"><input class="form-check-input" type="checkbox"></th> -->
                        <th scope="col">No</th>
                        <th scope="col">Date</th>
                        <th scope="col">Order No</th>
 
                        <th scope="col">Total</th>
                        
                    </tr>
                </thead>
                <tbody>
                   
                        {% for sales in items %}
                        <tr>
                        <!-- <td><input class="form-check-input" type="checkbox"></td> -->
                        <td>{{ forloop.counter}}</td>
                        <td>{{ sales.created_at }}</td>
                        <td>{{ sales.order_number }}</td>
  
                        <td>{{ sales.order_total }}</td>
                        <td><a class="btn btn-sm btn-primary" href="">Detail</a></td>
                 
                    </tr>
                        {% endfor %}
                   
       
                </tbody>
            </table>
        </div>

<!-- Recent Sales End -->







{% endblock %}

